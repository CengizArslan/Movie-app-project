doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title #{title} | Movie App
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="/css/style.css")
  body
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      .container
        a.navbar-brand(href="/") Movie App
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        .collapse.navbar-collapse#navbarNav
          ul.navbar-nav.me-auto
            li.nav-item
              a.nav-link(href="/") Home
            if currentUser
              li.nav-item
                a.nav-link(href="/movies/add") Add Movie
          ul.navbar-nav
            if currentUser
              li.nav-item
                a.nav-link(href="/logout") Logout (#{currentUser.username})
            else
              li.nav-item
                a.nav-link(href="/login") Login
              li.nav-item
                a.nav-link(href="/register") Register
    
    .container.mt-4
      if success && success.length > 0
        each msg in success
          .alert.alert-success.alert-dismissible.fade.show= msg
            button.btn-close(type="button", data-bs-dismiss="alert")
      
      if error && error.length > 0
        each msg in error
          .alert.alert-danger.alert-dismissible.fade.show= msg
            button.btn-close(type="button", data-bs-dismiss="alert")
      
      block content
    
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js")
    script(src="/js/main.js")
    block scripts